---
title: Linux 文件权限详解
createTime: 2025/06/28 10:02:10
permalink: /article/lr3ysahx/
---

八进制数字表示法是 Linux 中设置文件权限最常用的方法之一，它使用 3-4 位数字来精确控制文件的所有者、组和其他用户的权限。

## 一、三位数表示法

最常用的三位数权限表示法：

```console
ABC
│││
││└─ 其他用户(Others)权限
│└─── 所属组(Group)权限
└───── 所有者(User)权限
```

### 权限数字对应表

| 数字 | 权限  | 二进制 | 符号表示   | 说明         |
| ---- | ----- | ------ | ---------- | ------------ |
| 0    | `---` | 000    | 无权限     | 没有任何权限 |
| 1    | `--x` | 001    | 执行       | 仅执行权限   |
| 2    | `-w-` | 010    | 写         | 仅写入权限   |
| 3    | `-wx` | 011    | 写+执行    | 2+1 的组合   |
| 4    | `r--` | 100    | 读         | 仅读取权限   |
| 5    | `r-x` | 101    | 读+执行    | 4+1 的组合   |
| 6    | `rw-` | 110    | 读+写      | 4+2 的组合   |
| 7    | `rwx` | 111    | 读+写+执行 | 4+2+1 的组合 |

### 常见权限组合示例

| 权限组合 | 符号表示    | 所有者       | 同组用户 | 其他用户 | 常见场景         |
| -------- | ----------- | ------------ | -------- | -------- | ---------------- |
| **755**  | `rwxr-xr-x` | 读、写、执行 | 读、执行 | 读、执行 | 可执行程序、脚本 |
| **644**  | `rw-r--r--` | 读、写       | 读       | 读       | 普通数据文件     |
| **700**  | `rwx------` | 读、写、执行 | 无权限   | 无权限   | 私有目录/文件    |

## 二、四位数权限表示（包含特殊权限）

当需要设置特殊权限时，使用四位数：

```console
DABC
↑│││
│││└─ 其他用户权限
││└─── 所属组权限
│└───── 所有者权限
└────── 特殊权限位
```

### 特殊权限数字

| 数字 | 特殊权限   | 符号表示 | 说明                          |
| ---- | ---------- | -------- | ----------------------------- |
| 4    | SetUID     | u+s      | 执行时以所有者身份运行        |
| 2    | SetGID     | g+s      | 执行时以组身份运行/目录继承组 |
| 1    | Sticky Bit | o+t      | 限制目录内文件删除权限        |

### 特殊权限示例

1. **4755** (rwsr-xr-x)

   - SetUID 位设置
   - 典型应用：`/usr/bin/passwd`

2. **2755** (rwxr-sr-x)

   - SetGID 位设置
   - 典型应用：共享目录

3. **1777** (rwxrwxrwt)
   - Sticky Bit 设置
   - 典型应用：`/tmp`目录

## 三、权限设置命令

使用`chmod`命令设置权限：

```bash
# 设置普通权限
chmod 755 filename
chmod 644 directory/

# 设置特殊权限
chmod 4755 setuid_program
chmod 1777 /tmp/shared_dir

# 递归设置目录权限
chmod -R 755 directory/
```

## 四、权限查看方法

1. 使用`ls -l`查看：

   ```
   -rwsr-xr-x 1 root root 16384 Jan 1 10:00 special_program
   drwxr-sr-x 2 user group 4096 Jan 1 10:00 shared_dir/
   ```

2. 特殊权限显示位置：
   - SetUID: 所有者执行位显示为`s`（如`rws`）
   - SetGID: 组执行位显示为`s`（如`r-s`）
   - Sticky Bit: 其他用户执行位显示为`t`（如`rwt`）

## 五、实用权限组合参考

| 权限值 | 符号表示  | 适用场景               |
| ------ | --------- | ---------------------- |
| 400    | r-------- | 仅所有者可读的敏感文件 |
| 600    | rw------- | 所有者可读写的私有文件 |
| 644    | rw-r--r-- | 普通可读文件(web 文件) |
| 755    | rwxr-xr-x | 可执行程序/公共目录    |
| 711    | rwx--x--x | 可执行但内容不可查     |
| 750    | rwxr-x--- | 团队共享的可执行文件   |
| 1777   | rwxrwxrwt | 公共临时目录(/tmp)     |
| 2750   | rwxr-s--- | 团队协作目录           |

## 六、注意事项

1. **目录必须要有 x 权限**才能访问内容，即使有 r 权限
2. **SetUID/SetGID**权限可能带来安全风险，需谨慎使用
3. **umask**会影响新建文件的默认权限
4. **符号链接**的权限没有实际意义，指向的目标权限才有效
5. **root 用户**不受普通权限限制(但受 SELinux 等机制限制)

理解八进制权限表示法是 Linux 系统管理的基础技能，合理设置文件权限是系统安全的重要保障。建议结合`umask`和`chown`命令一起使用，实现完整的权限管理体系。
