---
title: 用来表单布局的一套样式
createTime: 2025/12/01 10:13:40
permalink: /blog/kkpj3yq2/
---

::: note 背景
日常开发中，现有的项目使用了 flex 布局来规划表单的布局，日常使用中，遇到跨行等情况（如照片这种表单项）难以支持，改用 grid 布局来规划表单的布局
:::

## 先贴代码

```scss :collapsed-lines=10
// 假设最大五列
$start: 1;
$max-cols: 5 !default;
.form-grid {
  display: grid;
  gap: 0px 30px;
  grid-template-columns: repeat(2, minmax(0, 1fr)); // 默认两列

  @for $i from $start through $max-cols {
    // I 列布局
    &.cols-#{$i} {
      grid-template-columns: repeat(#{$i}, minmax(0, 1fr));
    }
    .el-form-item {
      /**
       * 占用整行
       */
      &.col-span-full {
        grid-column: 1/-1;
      }
      /**
       * 固定占用第i列
       */
      &.col-#{$i} {
        grid-column: #{$i}/ span 1;
      }
      /**
       * 从当前位置开始，横跨i列
       * 本行剩余空间不够，自动换到下一行从第一列开始
       */
      &.col-span-#{$i} {
        grid-column: span #{$i};
      }

      @for $j from $start through $max-cols {
        /**
         * 固定从第i列到第j列
        */
        @if ($j <= $max-cols and $i <= $j) {
          &.col-#{$i}-#{$j} {
            grid-column: #{$i}/#{$j + 1};
          }
        }
        /**
         * 从第 i 列开始占用 j 列
         * 本行剩余空间不够，会导致布局变形，列数增加，慎用
         */
        @if ($i + $j <= $max-cols + 1) {
          &.col-#{$i}-span-#{$j} {
            grid-column: #{$i}/ span #{$j};
          }
        }
      }
    }
  }
  // 解决部分组件无法自动宽度问题
  .min-w-full {
    min-width: 100%;
  }
}
```

## 使用示例

```vue :collapsed-lines=10
<template>
  <el-form
    class="form-grid cols-5"
    label-width="120px"
    label-position="left"
    label-suffix="："
  >
    <el-form-item label="item 1" prop="val1">
      <el-input v-model="formData.val1" placeholder="请输入item 1" />
    </el-form-item>
    <el-form-item label="item 2" prop="val2">
      <el-input v-model="formData.val2" placeholder="请输入item 2" />
    </el-form-item>
    <el-form-item label="item 3" prop="val3">
      <el-input v-model="formData.val3" placeholder="请输入item 3" />
    </el-form-item>
    <div
      class="col-5 row-span-4"
      style="background: #ccc; display: flex; align-items: center; justify-content: center;"
    >
      <p>col-5 row-span-4</p>
      <p>占用第五列，连跨四行</p>
    </div>
    <el-form-item label="item 4" prop="val4">
      <el-input v-model="formData.val4" placeholder="请输入item 4" />
    </el-form-item>
    <el-form-item label="item 5" prop="val5">
      <el-input v-model="formData.val5" placeholder="请输入item 5" />
    </el-form-item>
    <el-form-item label="item 6" prop="val6" class="col-span-2">
      <el-input v-model="formData.val6" placeholder="请输入item 6" />
    </el-form-item>
    <el-form-item label="item 7" prop="val7" class="col-span-3">
      <el-input v-model="formData.val7" placeholder="请输入item 7" />
    </el-form-item>
    <el-form-item label="item 8" prop="val8" class="col-1-2">
      <el-input v-model="formData.val8" placeholder="请输入item 8" />
    </el-form-item>
    <el-form-item label="item 9" prop="val9" class="col-span-2">
      <el-input v-model="formData.val9" placeholder="请输入item 9" />
    </el-form-item>
    <el-form-item label="item 10" prop="val10" class="col-1-3">
      <el-input v-model="formData.val10" placeholder="请输入item 10" />
    </el-form-item>
    <el-form-item label="item 11" prop="val11" class="col-5">
      <el-input v-model="formData.val11" placeholder="请输入item 11" />
    </el-form-item>
    <el-form-item label="item 12" prop="val12" class="col-2-span-4">
      <el-input v-model="formData.val12" placeholder="请输入item 12" />
    </el-form-item>
    <el-form-item label="item 13" prop="val13" class="col-1-span-5">
      <el-input v-model="formData.val13" placeholder="请输入item 13" />
    </el-form-item>
  </el-form>
</template>
```

## 效果　

![4.png](./assert/4.png)
