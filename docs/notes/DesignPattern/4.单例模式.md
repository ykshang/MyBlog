---
title: 单例模式
createTime: 2025/04/30 21:31:03
permalink: /DesignPattern/4cnbwmjm/
---

单例模式是一种**创建型设计模式**，其核心目标是确保一个类在系统中**只有一个实例**，并提供一个**全局访问点**来获取该实例。它通过控制实例化过程，避免重复创建对象，常用于管理全局共享资源。

### 核心特点

1. **唯一性**  
   整个系统中只存在一个类的实例。
2. **全局访问**  
   通过静态方法或全局变量提供统一的访问入口。
3. **延迟初始化**（可选）  
   实例在第一次被需要时才创建，节省资源。

### 实现关键点

- **私有化构造函数**：防止外部通过 `new` 创建实例
- **静态成员保存实例**：通过类自身的静态属性存储唯一实例
- **全局访问方法**：如 `getInstance()` 控制实例的创建和访问

### 典型应用场景

1. 数据库连接池（避免重复建立连接）
2. 日志记录器（全局共享日志对象）
3. 配置管理类（统一读取配置文件）
4. 缓存系统（如全局状态管理）
5. 硬件资源访问（如打印机服务）

### 优缺点对比

| **优点**               | **缺点**                                 |
| ---------------------- | ---------------------------------------- |
| 节省内存资源           | 违反单一职责原则（同时管理实例化和业务） |
| 避免重复初始化耗时操作 | 难以扩展子类                             |
| 全局数据一致性         | 多线程环境下需额外处理同步问题           |
| 方便资源共享           | 可能隐藏代码耦合关系                     |

### 注意事项

- **线程安全**：多线程环境需通过双重检查锁（Double-Checked Locking）或原子操作保证唯一性
- **反序列化**：某些语言（如 Java）需重写 `readResolve()` 防止反序列化生成新实例
- **单元测试**：单例的全局状态可能影响测试独立性，可通过依赖注入改进

单例模式如同**公司唯一的 CEO**：所有人都通过特定流程联系同一个管理者，既保证决策统一性，又避免资源重复消耗，但过度依赖可能降低系统灵活性。
