---
title: 为什么不建议使用 index 或者随机数来当做key
createTime: 2025/06/24 20:01:44
permalink: /Vue/joyxo2v3/
---

这个和 Vue 内部的虚拟 DOM 的 Diff 算法有关。

Diff 算法的过程中，会根据 key 来判断元素是否发生了变化。

如果使用了 index 作为 key，元素的列表发生顺序变化、添加、删除时，Diff 算法可能无法判断 VNode 是否发生了变化， 可能不会导致页面重新渲染。

如果使用了随机数作为 key，那么 Diff 算法可能认为所有的元素都发生了变化，这样就会导致所有的元素都需要重新渲染，这样就会影响性能。

所以，建议使用数据的唯一标识作为 key，这样可以保证 Diff 算法的效率。
