---
title: 常见的概念
createTime: 2025/11/11 22:03:20
permalink: /Git/yjhgfh4s/
---

Git 中有许多重要概念，我来为你系统性地介绍：

## 核心概念

### 1、仓库 (Repository)

什么是仓库？仓库就是存放文件的地方，它可以是本地的，也可以是远程的。仓库里组织代码的单位叫做提交（Commit）。

基于仓库的位置，一般分为：

- 本地仓库：存储在本地计算机上的 Git 仓库
- 远程仓库：存储在服务器上的 Git 仓库（如 GitHub、GitLab）

### 2、提交 (Commit)

提交是 Git 中用来组织文件内容的最小单位，将暂存区的变更永久保存到本地仓库，形成版本快照。每个提交都有一些关键信息，包括提交哈希值、提交作者、提交时间、提交描述、前一个提交 ID 等，方便后续的版本管理和回滚操作。

```bash
# 每次提交都会生成一个唯一的哈希值
git commit -m "feat: add user authentication"
# 提交哈希示例：a1b2c3d4e5f6...
```

### 3、提交历史 (Commit History)

提交历史是指仓库中所有提交的记录，按照时间顺序排列。每个提交都有一个唯一的哈希值，用于标识该提交。通过查看提交历史，我们可以了解项目的开发过程、功能实现、bug 修复等。

Git 在操作工作目录时，就是基于提交历史来进行的。每次操作，都需要先获取两种状态之间的对应的提交历史差异，逐个应用到当前工作目录，最终更新到最新状态。

### 4、分支 (Branch)

分支是 Git 中用来并行开发不同功能的机制。每个分支都是一个独立的线，用于开发和维护不同的功能。通过分支，你可以在不影响主分支的情况下，独立地开发新功能或修复 bug。

一般来说，我们会按照用途来命名分支，例如：

- `main` 或 `master`：主分支，用于稳定版本
- `develop`：开发分支，用于整合新功能
- `feature/`：功能分支，用于开发新功能
- `hotfix/`：修复分支，用于紧急修复 bug
- `release/`：发布分支，用于版本发布准备

::: info 分支的实质是一个指针, 指向某一个提交
:::

### 5、标签 (Tag)

标签也是一种指针，它用来标记某一个提交，通常用来标记发布版本或重要的里程碑。

### 6、指针 (Pointer)

在 Git 中，指针是一个很重要的概念，像分支、标签、HEAD 等，他们的实质是一个指向某个提交的指针。

::: note 为什么会有指针的概念？
我们也可以理解为指针是某一个提交对应的 commit id 的别名，指向的是 ==某一种工作目录的状态==。有了指针，可以大大的简化我们的操作，不需要指定具体的提交哈希值。
:::

举几个例子：

1. 我们要切换分支，Git 会比较 HEAD 和目标分支，这两个指针之间的相对历史，根据历史，更新当前工作目录的代码到目标分支的状态。
2. 我们要拉取代码，Git 比较的是本地分支（也有可能是 HEAD）跟远端分支之间的提交历史差异，先通过 fetch 来将远端分支的最新提交历史拉取到本地，然后再根据两个指针之间的差异来更新代码到最新状态。

### 7、钩子 (Hooks)

Git 中的钩子 (Hooks) 是一种在 Git 操作过程中自动触发的脚本，用于执行自定义的操作。钩子分为客户端钩子和服务端钩子。

#### 客户端钩子 (Client-side Hooks)

运行在本地计算机上，用于在提交或推送代码前执行自定义操作。常用的客户端钩子有 `pre-commit`, `pre-push`。

#### 服务端钩子 (Server-side Hooks)

运行在服务器上，用于在接收代码前执行自定义操作。常用的服务端钩子有 `pre-receive`, `post-receive`。

## 三个重要区域

### 工作目录 (Working Directory)

工作目录下的文件，是我们实际操作的文件，我们可以在工作目录下修改、删除、添加文件，也是 Git 版本控制的对象。

### 暂存区 (Staging Area)

暂存区可以理解为一个缓存区域，存放了我们准备提交的修改的文件和内容。

### 仓库 (Repository)

仓库里是保存所有提交的文件快照，每个提交都有一个唯一的哈希值，用于标识该提交。

## 文件状态生命周期

- 未跟踪 (Untracked) ：一般新增的文件，未被提交过、也未被添加到暂存区，因此未被 Git 跟踪，未形成版本控制。他的状态是未跟踪。
- 已暂存 (Staged) ：不管是新增、修改还是删除，涉及的文件被添加到暂存区，准备提交的状态叫做已暂存。
- 已提交 (Committed) ：改动的文件已被提交到本地仓库，形成版本快照。
- 已修改 (Modified) ：已经被 git 版本控制文件，被修改了。
- 未暂存的修改 (Unstaged) ：已经被 git 版本控制文件，被修改了，但未被添加到暂存区。

## 操作概念

### 1、推送 (Push)

推送是将本地仓库的提交推送到远程仓库，使远程仓库与本地仓库保持同步。

### 2、拉取 (Pull)

拉取是将远程仓库的提交拉取到本地仓库，使本地仓库与远程仓库保持同步。

### 3、合并 (Merge)

合并是将一个分支的改动合并到另一个分支。例如，将 `feature/login` 分支的改动合并到 `main` 分支。

```bash
# 将feature分支合并到main
git checkout main
git merge feature/login
```

### 4、变基 (Rebase)

变基是将一个分支的提交移动到另一个分支的顶部，使分支的提交历史更加线性。例如，将 `feature/login` 分支的提交移动到 `main` 分支的顶部。

```bash
# 将当前分支变基到main
git checkout feature/login
git rebase main
```

### 5、撤销和重置 (Reset)

撤销是将提交撤销，使仓库回到之前的状态。
重置是将仓库重置到指定的状态。例如，将仓库重置到某个提交。

一般根据参数来区分：

- `--soft` 撤销：撤销提交，保留修改在暂存区。
- `--mixed` 混合撤销：撤销提交，保留修改在工作区（默认）。
- `--hard` 重置：撤销提交，丢弃所有修改。

```bash
git reset HEAD~1
git reset --soft HEAD~1  # 保留修改在暂存区
git reset --mixed HEAD~1 # 保留修改在工作区（默认）
git reset --hard HEAD~1  # 丢弃所有修改
```

### 6、撤回 (Revert)

撤回是将一个已提交的提交撤销，使仓库回到该提交之前的状态。与重置不同，撤回会创建一个新的提交，内容和要撤回的提交正好相反。

```bash
# 撤回最后一次提交
git revert HEAD
```

### 7、储藏 (Stash)

储藏可以理解为是一个临时的抽屉，用来临时保存工作目录的修改。保存修改以后，工作区被清空，方便切换到其他分支或进行其他操作时，不出现冲突。

```bash
# 临时保存修改
git stash

# 恢复储藏
git stash pop

# 查看储藏列表
git stash list
```

### 8、子模块 (Submodule)

子模块是一个 Git 仓库，作为另一个 Git 仓库的子目录。子模块可以用来管理项目的依赖，例如，一个项目依赖于另一个项目的库。

```bash
# 添加子模块
git submodule add https://github.com/user/lib.git

# 更新子模块
git submodule update --init --recursive
```

## 忽略文件 (.gitignore)

忽略文件是用来告诉 Git 哪些文件不需要被版本控制。例如，编译生成的文件、临时文件、日志文件等。

```
# 忽略日志文件
*.log

# 忽略依赖目录
node_modules/
dist/

# 忽略环境配置文件
.env
*.env.local
```
