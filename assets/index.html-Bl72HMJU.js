import{_ as s,c as i,d as a,o as l}from"./app-Bg7EXfK3.js";const n={};function t(r,e){return l(),i("div",null,[...e[0]||(e[0]=[a(`<div class="hint-container caution"><p class="hint-container-title">错误信息</p><p>npm : 无法加载文件 C:\\Program Files\\nodejs\\npm.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.c om/fwlink/?LinkID=135170 中的 about_Execution_Policies。</p></div><h2 id="为什么会出现这个问题" tabindex="-1"><a class="header-anchor" href="#为什么会出现这个问题"><span>为什么会出现这个问题 ?</span></a></h2><p>这个错误是因为 <strong>PowerShell 的执行策略（Execution Policy）</strong> 限制了脚本的运行，导致 <code>npm</code> 命令无法执行。</p><ul><li>Windows 默认禁止运行 <code>.ps1</code>（PowerShell 脚本）以防止恶意脚本。</li><li><code>npm</code> 在 Windows 上依赖 PowerShell 脚本（如 <code>npm.ps1</code>），因此受此限制。</li></ul><h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法"><span>解决方法</span></a></h2><h3 id="_1、以管理员身份运行-powershell" tabindex="-1"><a class="header-anchor" href="#_1、以管理员身份运行-powershell"><span>1、以管理员身份运行 PowerShell</span></a></h3><p>右键点击 <strong>PowerShell</strong> 或 <strong>Windows Terminal</strong>，选择 <strong>“以管理员身份运行”</strong>。</p><h3 id="_2、查看当前的执行策略" tabindex="-1"><a class="header-anchor" href="#_2、查看当前的执行策略"><span>2、查看当前的执行策略</span></a></h3><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-powershell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Get-ExecutionPolicy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>如果返回 <code>Restricted</code>（默认值），说明系统禁止运行脚本。</li></ul><h3 id="_3、更改执行策略" tabindex="-1"><a class="header-anchor" href="#_3、更改执行策略"><span>3、更改执行策略</span></a></h3><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-powershell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Set-ExecutionPolicy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Scope CurrentUser </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ExecutionPolicy RemoteSigned</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>作用</strong>：允许当前用户运行本地脚本，但远程脚本需签名（安全平衡方案）。</li><li><strong>警告</strong>：不要设为 <code>Unrestricted</code>（完全无限制），以免安全风险。</li></ul><h3 id="_4、验证是否生效" tabindex="-1"><a class="header-anchor" href="#_4、验证是否生效"><span>4、验证是否生效</span></a></h3><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-powershell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Get-ExecutionPolicy</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 应返回 RemoteSigned 或 Bypass</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">npm </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">v               </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 测试 npm 是否可用</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安全提示" tabindex="-1"><a class="header-anchor" href="#安全提示"><span><strong>安全提示</strong></span></a></h2><ul><li><strong>推荐使用 <code>RemoteSigned</code></strong>：允许本地脚本，但远程下载的脚本需数字签名。</li><li>如果问题解决，可恢复默认策略：<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-powershell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Set-ExecutionPolicy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Scope CurrentUser </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ExecutionPolicy Restricted</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul>`,17)])])}const d=s(n,[["render",t]]),o=JSON.parse('{"path":"/article/mazt6ye1/","title":"npm被禁止运行","lang":"zh-CN","frontmatter":{"title":"npm被禁止运行","createTime":"2025/07/15 00:30:41","permalink":"/article/mazt6ye1/"},"readingTime":{"minutes":1.11,"words":334},"git":{"createdTime":1758993364000,"updatedTime":1758993364000,"contributors":[{"name":"kangkang shang","username":"","email":"535634238@qq.com","commits":1,"avatar":"https://gravatar.com/avatar/899a2a8091fc73ff6879f8a45f98a5a42ca8b9665bca19ce8af3a144e416ed11?d=retro"}],"changelog":[{"hash":"1eb9b32660588040229600108dbdda4327afcdb3","time":1758993364000,"email":"535634238@qq.com","author":"kangkang shang","message":"docs(Javascript): 更新Generator生成器函数文档内容"}]},"filePathRelative":"前端/npm被禁止运行.md","headers":[],"categoryList":[{"id":"9abfe4","sort":10008,"name":"前端"}],"bulletin":false}');export{d as comp,o as data};
